<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>Automating Searchable Branch Configuration in Azure DevOps Repos via REST API - Exploring Azure, DevOps and Software Development</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Exploring Azure, DevOps and Software Development"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Exploring Azure, DevOps and Software Development"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="üéØ TL;DR: Bulk Configure Searchable Branches in Azure DevOps via Hidden Policy API Azure DevOps code search only indexes the default branch (master&amp;#x2F;main) by default, causing issues when teams u"><meta property="og:type" content="blog"><meta property="og:title" content="Automating Searchable Branch Configuration in Azure DevOps Repos via REST API"><meta property="og:url" content="https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/"><meta property="og:site_name" content="Exploring Azure, DevOps and Software Development"><meta property="og:description" content="üéØ TL;DR: Bulk Configure Searchable Branches in Azure DevOps via Hidden Policy API Azure DevOps code search only indexes the default branch (master&amp;#x2F;main) by default, causing issues when teams u"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://clouddev.blog/img/automate-branch-ado-api.png"><meta property="article:published_time" content="2025-08-14T12:00:00.000Z"><meta property="article:modified_time" content="2025-12-25T22:41:47.938Z"><meta property="article:author" content="Ricky Gummadi"><meta property="article:tag" content="Azure DevOps"><meta property="article:tag" content="REST API"><meta property="article:tag" content="PowerShell"><meta property="article:tag" content="Policy Configuration"><meta property="article:tag" content="Code Search"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://clouddev.blog/img/automate-branch-ado-api.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/"},"headline":"Automating Searchable Branch Configuration in Azure DevOps Repos via REST API","image":["https://clouddev.blog/img/automate-branch-ado-api.png"],"datePublished":"2025-08-14T12:00:00.000Z","dateModified":"2025-12-25T22:41:47.938Z","author":{"@type":"Person","name":"Ricky Gummadi"},"publisher":{"@type":"Organization","name":"Exploring Azure, DevOps and Software Development","logo":{"@type":"ImageObject","url":"https://clouddev.blog/img/logo.png"}},"description":"üéØ TL;DR: Bulk Configure Searchable Branches in Azure DevOps via Hidden Policy API Azure DevOps code search only indexes the default branch (master&#x2F;main) by default, causing issues when teams u"}</script><link rel="canonical" href="https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/"><link rel="alternate" href="/atom.xml" title="Exploring Azure, DevOps and Software Development" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-M9TEW2G3HK" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-M9TEW2G3HK")</script><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><script data-ad-client="ca-pub-1649927746910796" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script>!function(){function e(){if(!location.hash)return;Array.from(document.querySelectorAll(".tab-content")).forEach(e=>{e.classList.add("is-hidden")}),Array.from(document.querySelectorAll(".tabs li")).forEach(e=>{e.classList.remove("is-active")});const e=document.querySelector(location.hash);e&&e.classList.remove("is-hidden");const t=document.querySelector(`a[href="${location.hash}"]`);t&&t.parentElement.classList.add("is-active")}e(),window.addEventListener("hashchange",e,!1)}()</script><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Exploring Azure, DevOps and Software Development" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Ricky-G/ricky-g.github.io"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/img/automate-branch-ado-api.png" alt="Automating Searchable Branch Configuration in Azure DevOps Repos via REST API"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-08-14T12:00:00.000Z" title="8/15/2025, 12:00:00 AM">2025-08-15</time></span><span class="level-item">Updated&nbsp;<time datetime="2025-12-25T22:41:47.938Z" title="12/26/2025, 11:41:47 AM">2025-12-26</time></span><span class="level-item"><a class="link-muted" href="/categories/Azure-DevOps/">Azure DevOps</a><span>¬†/¬†</span><a class="link-muted" href="/categories/Azure-DevOps/Azure-DevOps-API/">Azure DevOps API</a></span><span class="level-item">14 minutes read (About 2145 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Automating Searchable Branch Configuration in Azure DevOps Repos via REST API</h1><div class="content"><hr><blockquote><p><strong>üéØ TL;DR: Bulk Configure Searchable Branches in Azure DevOps via Hidden Policy API</strong></p><p>Azure DevOps code search only indexes the default branch (master&#x2F;main) by default, causing issues when teams use <code>develop</code> branches for JFrog Artifactory detection scripts. Problem: No documented API exists for bulk updating searchable branches across thousands of repositories. Solution: Use the undocumented Policy Configuration API with policy type <code>0517f88d-4ec5-4343-9d26-9930ebd53069</code> to programmatically add branches to the searchable list. This approach leverages the same API calls the Azure DevOps UI uses internally, enabling automation of what would otherwise require manual configuration across massive repository collections.</p></blockquote><hr><p>Recently, I encountered an interesting challenge while working on a JFrog Artifactory adoption tracking project across a large Azure DevOps organization. The requirement was to scan repositories for JFrog URL references to determine which teams had successfully onboarded to their new artifact management system. The problem? Some development teams exclusively work in <code>develop</code> branches instead of <code>master</code> or <code>main</code>, and Azure DevOps code search only indexes the default branch by default.</p><p>This seemingly simple requirement - adding <code>develop</code> to the searchable branches for thousands of repositories - turned into a fascinating exploration of Azure DevOps‚Äô undocumented APIs. While there‚Äôs no official documentation for bulk updating searchable branches, I discovered that the Azure DevOps UI uses a specific Policy Configuration API under the hood that we can leverage for automation.</p><p>This blog post shares a practical approach to programmatically configure searchable branches across large Azure DevOps organizations using REST APIs that Microsoft doesn‚Äôt officially document but absolutely supports.</p><h2 id="The-Challenge-Azure-DevOps-Code-Search-Limitations"><a href="#The-Challenge-Azure-DevOps-Code-Search-Limitations" class="headerlink" title="The Challenge: Azure DevOps Code Search Limitations"></a>The Challenge: Azure DevOps Code Search Limitations</h2><p>Azure DevOps code search is a powerful feature, but it comes with a significant limitation that affects many organizations: by default, only the repository‚Äôs default branch (typically <code>master</code> or <code>main</code>) is indexed for search operations.</p><p>This creates problems in several scenarios:</p><p><strong>JFrog Adoption Tracking:</strong> Organizations implementing JFrog Artifactory need to scan all repositories for configuration files and dependency references, but teams using feature branches or <code>develop</code> as their primary branch won‚Äôt be detected.</p><p><strong>Multi-Branch Development:</strong> Teams practicing GitFlow or similar branching strategies may have critical code in <code>develop</code>, <code>release/*</code>, or feature branches that needs to be searchable.</p><p><strong>Compliance and Security Scanning:</strong> Security tools and compliance scripts that rely on code search may miss important files if they‚Äôre not in the default branch.</p><span id="more"></span><h2 id="Understanding-Azure-DevOps-Searchable-Branches"><a href="#Understanding-Azure-DevOps-Searchable-Branches" class="headerlink" title="Understanding Azure DevOps Searchable Branches"></a>Understanding Azure DevOps Searchable Branches</h2><p>In Azure DevOps, searchable branches are configured at the repository level through the UI:</p><p><strong>Manual Configuration Path:</strong></p><ol><li>Navigate to Project Settings ‚Üí Repositories</li><li>Select your repository</li><li>Go to Settings ‚Üí Searchable Branches</li><li>Add additional branches (maximum of 5 extra branches)</li></ol><p><strong>What Actually Happens:</strong><br>When you configure searchable branches through the UI, Azure DevOps creates or updates a policy configuration with a specific policy type. This policy type - <code>0517f88d-4ec5-4343-9d26-9930ebd53069</code> - controls which branches are indexed for code search.</p><h2 id="The-Discovery-Hidden-Policy-Configuration-API"><a href="#The-Discovery-Hidden-Policy-Configuration-API" class="headerlink" title="The Discovery: Hidden Policy Configuration API"></a>The Discovery: Hidden Policy Configuration API</h2><p>After extensive research and reverse engineering the Azure DevOps UI network traffic, I discovered that searchable branch configuration is managed through the Policy Configuration API with a specific, undocumented policy type.</p><p><strong>Key Insights:</strong></p><ul><li>Azure DevOps doesn‚Äôt expose a direct ‚Äúsearchable branches‚Äù API endpoint</li><li>The UI uses the Policy Configuration API with policy type <code>0517f88d-4ec5-4343-9d26-9930ebd53069</code></li><li>This API is officially supported but not documented for this specific use case</li><li>The same approach works for both Azure DevOps Server and Azure DevOps Cloud</li></ul><h2 id="The-Solution-Automated-Policy-Configuration"><a href="#The-Solution-Automated-Policy-Configuration" class="headerlink" title="The Solution: Automated Policy Configuration"></a>The Solution: Automated Policy Configuration</h2><p>The approach involves three main steps:</p><h3 id="Step-1-Retrieve-Existing-Policy-Configuration"><a href="#Step-1-Retrieve-Existing-Policy-Configuration" class="headerlink" title="Step 1: Retrieve Existing Policy Configuration"></a>Step 1: Retrieve Existing Policy Configuration</h3><p>First, we need to check if a searchable branches policy already exists for the repository:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Get existing searchable branch policy for a repository</span></span><br><span class="line"><span class="variable">$policyUrl</span> = <span class="string">&quot;https://dev.azure.com/&#123;organization&#125;/&#123;project&#125;/_apis/policy/configurations&quot;</span></span><br><span class="line"><span class="variable">$params</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&#x27;repositoryId&#x27;</span> = <span class="variable">$repositoryId</span></span><br><span class="line">    <span class="string">&#x27;policyType&#x27;</span> = <span class="string">&#x27;0517f88d-4ec5-4343-9d26-9930ebd53069&#x27;</span></span><br><span class="line">    <span class="string">&#x27;api-version&#x27;</span> = <span class="string">&#x27;7.1-preview.1&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$existingPolicy</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$policyUrl</span> <span class="literal">-Headers</span> <span class="variable">$headers</span> <span class="literal">-Method</span> Get <span class="literal">-Body</span> <span class="variable">$params</span></span><br></pre></td></tr></table></figure><h3 id="Step-2-Create-or-Update-Policy-Configuration"><a href="#Step-2-Create-or-Update-Policy-Configuration" class="headerlink" title="Step 2: Create or Update Policy Configuration"></a>Step 2: Create or Update Policy Configuration</h3><p>If a policy exists, we update it. If not, we create a new one:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Policy configuration for searchable branches</span></span><br><span class="line"><span class="variable">$policySettings</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&#x27;type&#x27;</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">        <span class="string">&#x27;id&#x27;</span> = <span class="string">&#x27;0517f88d-4ec5-4343-9d26-9930ebd53069&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">&#x27;isEnabled&#x27;</span> = <span class="variable">$true</span></span><br><span class="line">    <span class="string">&#x27;isBlocking&#x27;</span> = <span class="variable">$false</span></span><br><span class="line">    <span class="string">&#x27;settings&#x27;</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">        <span class="string">&#x27;searchBranches&#x27;</span> = <span class="selector-tag">@</span>(</span><br><span class="line">            <span class="string">&#x27;refs/heads/master&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;refs/heads/main&#x27;</span>, </span><br><span class="line">            <span class="string">&#x27;refs/heads/develop&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">&#x27;scope&#x27;</span> = <span class="selector-tag">@</span>(</span><br><span class="line">        <span class="selector-tag">@</span>&#123;</span><br><span class="line">            <span class="string">&#x27;repositoryId&#x27;</span> = <span class="variable">$repositoryId</span></span><br><span class="line">            <span class="string">&#x27;refName&#x27;</span> = <span class="string">&#x27;refs/heads/master&#x27;</span></span><br><span class="line">            <span class="string">&#x27;matchKind&#x27;</span> = <span class="string">&#x27;exact&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Step-3-Apply-the-Configuration"><a href="#Step-3-Apply-the-Configuration" class="headerlink" title="Step 3: Apply the Configuration"></a>Step 3: Apply the Configuration</h3><p>Send the policy configuration to Azure DevOps:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable">$existingPolicy</span>.count <span class="operator">-gt</span> <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment"># Update existing policy</span></span><br><span class="line">    <span class="variable">$configId</span> = <span class="variable">$existingPolicy</span>.value[<span class="number">0</span>].id</span><br><span class="line">    <span class="variable">$updateUrl</span> = <span class="string">&quot;https://dev.azure.com/&#123;organization&#125;/&#123;project&#125;/_apis/policy/configurations/<span class="variable">$configId</span>&quot;</span></span><br><span class="line">    <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$updateUrl</span> <span class="literal">-Headers</span> <span class="variable">$headers</span> <span class="literal">-Method</span> Put <span class="literal">-Body</span> (<span class="variable">$policySettings</span> | <span class="built_in">ConvertTo-Json</span> <span class="literal">-Depth</span> <span class="number">10</span>) <span class="literal">-ContentType</span> <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment"># Create new policy</span></span><br><span class="line">    <span class="variable">$createUrl</span> = <span class="string">&quot;https://dev.azure.com/&#123;organization&#125;/&#123;project&#125;/_apis/policy/configurations&quot;</span></span><br><span class="line">    <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$createUrl</span> <span class="literal">-Headers</span> <span class="variable">$headers</span> <span class="literal">-Method</span> Post <span class="literal">-Body</span> (<span class="variable">$policySettings</span> | <span class="built_in">ConvertTo-Json</span> <span class="literal">-Depth</span> <span class="number">10</span>) <span class="literal">-ContentType</span> <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Complete-PowerShell-Implementation"><a href="#Complete-PowerShell-Implementation" class="headerlink" title="Complete PowerShell Implementation"></a>Complete PowerShell Implementation</h2><p>Here‚Äôs a complete script that implements this solution for bulk updating searchable branches across multiple repositories:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Azure DevOps configuration</span></span><br><span class="line"><span class="variable">$organization</span> = <span class="string">&quot;your-org&quot;</span></span><br><span class="line"><span class="variable">$project</span> = <span class="string">&quot;your-project&quot;</span> </span><br><span class="line"><span class="variable">$pat</span> = <span class="string">&quot;your-personal-access-token&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create authentication headers</span></span><br><span class="line"><span class="variable">$headers</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&#x27;Authorization&#x27;</span> = <span class="string">&quot;Basic &quot;</span> + [<span class="type">Convert</span>]::ToBase64String([<span class="type">Text.Encoding</span>]::ASCII.GetBytes(<span class="string">&quot;:<span class="variable">$pat</span>&quot;</span>))</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span> = <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Function to update searchable branches for a repository</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Update-SearchableBranches</span></span> &#123;</span><br><span class="line">    <span class="keyword">param</span>(</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$organizationName</span>,</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$projectName</span>,</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$repositoryId</span>,</span><br><span class="line">        [<span class="built_in">array</span>]<span class="variable">$branches</span>,</span><br><span class="line">        [<span class="built_in">hashtable</span>]<span class="variable">$authHeaders</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$policyTypeId</span> = <span class="string">&#x27;0517f88d-4ec5-4343-9d26-9930ebd53069&#x27;</span></span><br><span class="line">    <span class="variable">$baseUrl</span> = <span class="string">&quot;https://dev.azure.com/<span class="variable">$organizationName</span>/<span class="variable">$projectName</span>/_apis/policy/configurations&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment"># Check for existing policy</span></span><br><span class="line">        <span class="variable">$getUrl</span> = <span class="string">&quot;<span class="variable">$baseUrl</span>&quot;</span> + <span class="string">&quot;?repositoryId=<span class="variable">$repositoryId</span>&amp;policyType=<span class="variable">$policyTypeId</span>&amp;api-version=7.1-preview.1&quot;</span></span><br><span class="line">        <span class="variable">$existingPolicy</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$getUrl</span> <span class="literal">-Headers</span> <span class="variable">$authHeaders</span> <span class="literal">-Method</span> Get</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Format branches with refs/heads/ prefix</span></span><br><span class="line">        <span class="variable">$searchBranches</span> = <span class="variable">$branches</span> | <span class="built_in">ForEach-Object</span> &#123; </span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$_</span> <span class="operator">-like</span> <span class="string">&quot;refs/heads/*&quot;</span>) &#123; <span class="variable">$_</span> &#125; <span class="keyword">else</span> &#123; <span class="string">&quot;refs/heads/<span class="variable">$_</span>&quot;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Create policy configuration</span></span><br><span class="line">        <span class="variable">$policyConfig</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">            <span class="string">&#x27;type&#x27;</span> = <span class="selector-tag">@</span>&#123; <span class="string">&#x27;id&#x27;</span> = <span class="variable">$policyTypeId</span> &#125;</span><br><span class="line">            <span class="string">&#x27;isEnabled&#x27;</span> = <span class="variable">$true</span></span><br><span class="line">            <span class="string">&#x27;isBlocking&#x27;</span> = <span class="variable">$false</span></span><br><span class="line">            <span class="string">&#x27;settings&#x27;</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">                <span class="string">&#x27;searchBranches&#x27;</span> = <span class="variable">$searchBranches</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="string">&#x27;scope&#x27;</span> = <span class="selector-tag">@</span>(</span><br><span class="line">                <span class="selector-tag">@</span>&#123;</span><br><span class="line">                    <span class="string">&#x27;repositoryId&#x27;</span> = <span class="variable">$repositoryId</span></span><br><span class="line">                    <span class="string">&#x27;refName&#x27;</span> = <span class="variable">$searchBranches</span>[<span class="number">0</span>]</span><br><span class="line">                    <span class="string">&#x27;matchKind&#x27;</span> = <span class="string">&#x27;exact&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="variable">$jsonBody</span> = <span class="variable">$policyConfig</span> | <span class="built_in">ConvertTo-Json</span> <span class="literal">-Depth</span> <span class="number">10</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$existingPolicy</span>.count <span class="operator">-gt</span> <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment"># Update existing policy</span></span><br><span class="line">            <span class="variable">$configId</span> = <span class="variable">$existingPolicy</span>.value[<span class="number">0</span>].id</span><br><span class="line">            <span class="variable">$updateUrl</span> = <span class="string">&quot;<span class="variable">$baseUrl</span>/<span class="variable">$configId</span>&quot;</span> + <span class="string">&quot;?api-version=7.1-preview.1&quot;</span></span><br><span class="line">            <span class="variable">$result</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$updateUrl</span> <span class="literal">-Headers</span> <span class="variable">$authHeaders</span> <span class="literal">-Method</span> Put <span class="literal">-Body</span> <span class="variable">$jsonBody</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Updated searchable branches for repository <span class="variable">$repositoryId</span>&quot;</span> <span class="literal">-ForegroundColor</span> Green</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment"># Create new policy</span></span><br><span class="line">            <span class="variable">$createUrl</span> = <span class="string">&quot;<span class="variable">$baseUrl</span>&quot;</span> + <span class="string">&quot;?api-version=7.1-preview.1&quot;</span></span><br><span class="line">            <span class="variable">$result</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$createUrl</span> <span class="literal">-Headers</span> <span class="variable">$authHeaders</span> <span class="literal">-Method</span> Post <span class="literal">-Body</span> <span class="variable">$jsonBody</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Created searchable branches policy for repository <span class="variable">$repositoryId</span>&quot;</span> <span class="literal">-ForegroundColor</span> Green</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;Failed to update searchable branches for repository <span class="variable">$repositoryId</span>`: <span class="variable">$</span>(<span class="variable">$_</span>.Exception.Message)&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get all repositories in the project</span></span><br><span class="line"><span class="variable">$reposUrl</span> = <span class="string">&quot;https://dev.azure.com/<span class="variable">$organization</span>/<span class="variable">$project</span>/_apis/git/repositories?api-version=7.1&quot;</span></span><br><span class="line"><span class="variable">$repositories</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$reposUrl</span> <span class="literal">-Headers</span> <span class="variable">$headers</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define branches to make searchable</span></span><br><span class="line"><span class="variable">$searchableBranches</span> = <span class="selector-tag">@</span>(<span class="string">&#x27;master&#x27;</span>, <span class="string">&#x27;main&#x27;</span>, <span class="string">&#x27;develop&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Update searchable branches for each repository</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$repo</span> <span class="keyword">in</span> <span class="variable">$repositories</span>.value) &#123;</span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Processing repository: <span class="variable">$</span>(<span class="variable">$repo</span>.name)&quot;</span> <span class="literal">-ForegroundColor</span> Yellow</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$result</span> = <span class="built_in">Update-SearchableBranches</span> <span class="literal">-organizationName</span> <span class="variable">$organization</span> <span class="literal">-projectName</span> <span class="variable">$project</span> <span class="literal">-repositoryId</span> <span class="variable">$repo</span>.id <span class="literal">-branches</span> <span class="variable">$searchableBranches</span> <span class="literal">-authHeaders</span> <span class="variable">$headers</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$result</span>) &#123;</span><br><span class="line">        <span class="built_in">Write-Host</span> <span class="string">&quot;Successfully configured searchable branches for <span class="variable">$</span>(<span class="variable">$repo</span>.name)&quot;</span> <span class="literal">-ForegroundColor</span> Green</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">Write-Host</span> <span class="string">&quot;Failed to configure searchable branches for <span class="variable">$</span>(<span class="variable">$repo</span>.name)&quot;</span> <span class="literal">-ForegroundColor</span> Red</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Add delay to avoid rate limiting</span></span><br><span class="line">    <span class="built_in">Start-Sleep</span> <span class="literal">-Milliseconds</span> <span class="number">500</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;Searchable branches configuration complete!&quot;</span> <span class="literal">-ForegroundColor</span> Cyan</span><br></pre></td></tr></table></figure><h2 id="Important-Considerations-and-Limitations"><a href="#Important-Considerations-and-Limitations" class="headerlink" title="Important Considerations and Limitations"></a>Important Considerations and Limitations</h2><h3 id="API-Version-and-Stability"><a href="#API-Version-and-Stability" class="headerlink" title="API Version and Stability"></a>API Version and Stability</h3><p><strong>Preview API:</strong> The Policy Configuration API is in preview (<code>7.1-preview.1</code>), which means:</p><ul><li>The API may change without notice</li><li>Microsoft doesn‚Äôt guarantee backward compatibility</li><li>Monitor for API updates and test thoroughly before production use</li></ul><h3 id="Repository-Limitations"><a href="#Repository-Limitations" class="headerlink" title="Repository Limitations"></a>Repository Limitations</h3><p><strong>Branch Limits:</strong> Azure DevOps allows a maximum of 6 searchable branches per repository (including the default branch).</p><p><strong>Indexing Delays:</strong> After updating searchable branches, Azure DevOps may take several hours to index the new branches. Search results won‚Äôt be immediately available.</p><h3 id="Performance-Considerations"><a href="#Performance-Considerations" class="headerlink" title="Performance Considerations"></a>Performance Considerations</h3><p><strong>Rate Limiting:</strong> Implement appropriate delays between API calls to avoid hitting rate limits, especially when processing thousands of repositories.</p><p><strong>Batch Processing:</strong> For large organizations, consider processing repositories in batches and implementing retry logic for failed requests.</p><h3 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h3><p><strong>Repository States:</strong> Some repositories may not have branches configured or may be in archived states. Implement proper error handling for these scenarios.</p><p><strong>Permission Issues:</strong> Ensure your Personal Access Token has sufficient permissions for policy configuration (Project Settings, Read &amp; Manage).</p><h2 id="Authentication-and-Security-Setup"><a href="#Authentication-and-Security-Setup" class="headerlink" title="Authentication and Security Setup"></a>Authentication and Security Setup</h2><h3 id="Personal-Access-Token-Configuration"><a href="#Personal-Access-Token-Configuration" class="headerlink" title="Personal Access Token Configuration"></a>Personal Access Token Configuration</h3><p>Create a Personal Access Token with the following permissions:</p><ul><li><strong>Code (Read)</strong> - To access repository information</li><li><strong>Project and Team (Read)</strong> - To list projects and repositories</li><li><strong>Policy Configuration (Read &amp; Manage)</strong> - To update searchable branch policies</li></ul><h3 id="Security-Best-Practices"><a href="#Security-Best-Practices" class="headerlink" title="Security Best Practices"></a>Security Best Practices</h3><p><strong>Token Storage:</strong> Store Personal Access Tokens securely and rotate them regularly according to your organization‚Äôs security policies.</p><p><strong>Least Privilege:</strong> Use dedicated service accounts with minimal required permissions for automation scripts.</p><p><strong>Audit Logging:</strong> Log all policy changes for compliance and troubleshooting purposes.</p><h2 id="Advanced-Usage-Scenarios"><a href="#Advanced-Usage-Scenarios" class="headerlink" title="Advanced Usage Scenarios"></a>Advanced Usage Scenarios</h2><h3 id="Conditional-Branch-Configuration"><a href="#Conditional-Branch-Configuration" class="headerlink" title="Conditional Branch Configuration"></a>Conditional Branch Configuration</h3><p>Configure different searchable branches based on repository naming conventions or team requirements:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Example: Configure different branches based on repository name patterns</span></span><br><span class="line"><span class="variable">$branchConfig</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&#x27;web-*&#x27;</span> = <span class="selector-tag">@</span>(<span class="string">&#x27;master&#x27;</span>, <span class="string">&#x27;develop&#x27;</span>, <span class="string">&#x27;staging&#x27;</span>)</span><br><span class="line">    <span class="string">&#x27;api-*&#x27;</span> = <span class="selector-tag">@</span>(<span class="string">&#x27;master&#x27;</span>, <span class="string">&#x27;develop&#x27;</span>, <span class="string">&#x27;release&#x27;</span>)</span><br><span class="line">    <span class="string">&#x27;mobile-*&#x27;</span> = <span class="selector-tag">@</span>(<span class="string">&#x27;master&#x27;</span>, <span class="string">&#x27;develop&#x27;</span>, <span class="string">&#x27;feature/*&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$repo</span> <span class="keyword">in</span> <span class="variable">$repositories</span>.value) &#123;</span><br><span class="line">    <span class="variable">$branches</span> = <span class="selector-tag">@</span>(<span class="string">&#x27;master&#x27;</span>, <span class="string">&#x27;main&#x27;</span>) <span class="comment"># Default branches</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Add specific branches based on repository name</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$pattern</span> <span class="keyword">in</span> <span class="variable">$branchConfig</span>.Keys) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$repo</span>.name <span class="operator">-like</span> <span class="variable">$pattern</span>) &#123;</span><br><span class="line">            <span class="variable">$branches</span> += <span class="variable">$branchConfig</span>[<span class="variable">$pattern</span>]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Remove duplicates and configure</span></span><br><span class="line">    <span class="variable">$uniqueBranches</span> = <span class="variable">$branches</span> | <span class="built_in">Select-Object</span> <span class="literal">-Unique</span></span><br><span class="line">    <span class="built_in">Update-SearchableBranches</span> <span class="literal">-repositoryId</span> <span class="variable">$repo</span>.id <span class="literal">-branches</span> <span class="variable">$uniqueBranches</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Integration-with-CI-x2F-CD-Pipelines"><a href="#Integration-with-CI-x2F-CD-Pipelines" class="headerlink" title="Integration with CI&#x2F;CD Pipelines"></a>Integration with CI&#x2F;CD Pipelines</h3><p>Integrate searchable branch configuration into your DevOps workflows:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Azure DevOps Pipeline example</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">task:</span> <span class="string">PowerShell@2</span></span><br><span class="line">  <span class="attr">displayName:</span> <span class="string">&#x27;Configure Searchable Branches&#x27;</span></span><br><span class="line">  <span class="attr">inputs:</span></span><br><span class="line">    <span class="attr">targetType:</span> <span class="string">&#x27;inline&#x27;</span></span><br><span class="line">    <span class="attr">script:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      # Your PowerShell script here</span></span><br><span class="line"><span class="string">      # Use pipeline variables for organization, project, and PAT</span></span><br></pre></td></tr></table></figure><h2 id="Troubleshooting-Common-Issues"><a href="#Troubleshooting-Common-Issues" class="headerlink" title="Troubleshooting Common Issues"></a>Troubleshooting Common Issues</h2><h3 id="Policy-Configuration-Not-Found"><a href="#Policy-Configuration-Not-Found" class="headerlink" title="Policy Configuration Not Found"></a>Policy Configuration Not Found</h3><p>If the GET request returns empty results, the repository may not have searchable branches configured yet. Create a new policy instead of updating an existing one.</p><h3 id="Invalid-Branch-References"><a href="#Invalid-Branch-References" class="headerlink" title="Invalid Branch References"></a>Invalid Branch References</h3><p>Ensure branch names use the correct format:</p><ul><li>Correct: <code>refs/heads/develop</code></li><li>Incorrect: <code>develop</code> or <code>origin/develop</code></li></ul><h3 id="Permission-Denied-Errors"><a href="#Permission-Denied-Errors" class="headerlink" title="Permission Denied Errors"></a>Permission Denied Errors</h3><p>Verify that your Personal Access Token has the required permissions and that you have administrative access to the project.</p><h3 id="Indexing-Delays"><a href="#Indexing-Delays" class="headerlink" title="Indexing Delays"></a>Indexing Delays</h3><p>After configuration, search indexing may take several hours. Test with small repositories first to verify the configuration is working before processing large numbers of repositories.</p><h2 id="Real-World-Use-Cases"><a href="#Real-World-Use-Cases" class="headerlink" title="Real-World Use Cases"></a>Real-World Use Cases</h2><h3 id="JFrog-Artifactory-Adoption-Tracking"><a href="#JFrog-Artifactory-Adoption-Tracking" class="headerlink" title="JFrog Artifactory Adoption Tracking"></a>JFrog Artifactory Adoption Tracking</h3><p>The original use case that sparked this solution:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Search for JFrog references across all configured branches</span></span><br><span class="line"><span class="variable">$searchQuery</span> = <span class="string">&quot;jfrog.yourcompany.com&quot;</span></span><br><span class="line"><span class="variable">$searchUrl</span> = <span class="string">&quot;https://dev.azure.com/<span class="variable">$organization</span>/<span class="variable">$project</span>/_apis/search/codesearchresults?api-version=7.1-preview.1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$searchBody</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    searchText = <span class="variable">$searchQuery</span></span><br><span class="line">    includeFacets = <span class="variable">$true</span></span><br><span class="line">    top = <span class="number">1000</span></span><br><span class="line">&#125; | <span class="built_in">ConvertTo-Json</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$searchResults</span> = <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$searchUrl</span> <span class="literal">-Headers</span> <span class="variable">$headers</span> <span class="literal">-Method</span> Post <span class="literal">-Body</span> <span class="variable">$searchBody</span> <span class="literal">-ContentType</span> <span class="string">&quot;application/json&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Process results to identify repositories using JFrog</span></span><br></pre></td></tr></table></figure><h3 id="Security-Compliance-Scanning"><a href="#Security-Compliance-Scanning" class="headerlink" title="Security Compliance Scanning"></a>Security Compliance Scanning</h3><p>Scan for security-sensitive patterns across multiple branches:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Search for potential security issues across all searchable branches</span></span><br><span class="line"><span class="variable">$securityPatterns</span> = <span class="selector-tag">@</span>(</span><br><span class="line">    <span class="string">&quot;password\s*=&quot;</span>,</span><br><span class="line">    <span class="string">&quot;api[_-]?key\s*[:=]&quot;</span>,</span><br><span class="line">    <span class="string">&quot;secret[_-]?key\s*[:=]&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$pattern</span> <span class="keyword">in</span> <span class="variable">$securityPatterns</span>) &#123;</span><br><span class="line">    <span class="comment"># Search across all configured branches</span></span><br><span class="line">    <span class="comment"># Generate compliance reports</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Code-Quality-Assessment"><a href="#Code-Quality-Assessment" class="headerlink" title="Code Quality Assessment"></a>Code Quality Assessment</h3><p>Analyze code patterns and best practices across development branches:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Search for deprecated patterns across main and develop branches</span></span><br><span class="line"><span class="variable">$deprecatedPatterns</span> = <span class="selector-tag">@</span>(</span><br><span class="line">    <span class="string">&quot;System.Web.HttpContext&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ConfigurationManager.AppSettings&quot;</span>,</span><br><span class="line">    <span class="string">&quot;HttpResponse.Write&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Generate modernization reports</span></span><br></pre></td></tr></table></figure><h2 id="Future-Considerations-and-Alternatives"><a href="#Future-Considerations-and-Alternatives" class="headerlink" title="Future Considerations and Alternatives"></a>Future Considerations and Alternatives</h2><h3 id="Azure-DevOps-CLI-Integration"><a href="#Azure-DevOps-CLI-Integration" class="headerlink" title="Azure DevOps CLI Integration"></a>Azure DevOps CLI Integration</h3><p>While the Azure DevOps CLI doesn‚Äôt have native support for searchable branches, you can use <code>az devops invoke</code> to call the REST APIs:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">az devops invoke --area policy --resource configurations --route-parameters project=YourProject --http-method GET --api-version 7.1-preview.1</span><br></pre></td></tr></table></figure><h3 id="PowerShell-Module-Development"><a href="#PowerShell-Module-Development" class="headerlink" title="PowerShell Module Development"></a>PowerShell Module Development</h3><p>Consider creating a dedicated PowerShell module for searchable branch management:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Future PowerShell module structure</span></span><br><span class="line"><span class="built_in">Import-Module</span> AzureDevOpsSearchableBranches</span><br><span class="line"></span><br><span class="line"><span class="built_in">Get-AdoSearchableBranches</span> <span class="literal">-Organization</span> <span class="string">&quot;YourOrg&quot;</span> <span class="literal">-Project</span> <span class="string">&quot;YourProject&quot;</span> <span class="literal">-Repository</span> <span class="string">&quot;YourRepo&quot;</span></span><br><span class="line"><span class="built_in">Set-AdoSearchableBranches</span> <span class="literal">-Organization</span> <span class="string">&quot;YourOrg&quot;</span> <span class="literal">-Project</span> <span class="string">&quot;YourProject&quot;</span> <span class="literal">-Repository</span> <span class="string">&quot;YourRepo&quot;</span> <span class="literal">-Branches</span> <span class="selector-tag">@</span>(<span class="string">&quot;master&quot;</span>, <span class="string">&quot;develop&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="Microsoft-Graph-Integration"><a href="#Microsoft-Graph-Integration" class="headerlink" title="Microsoft Graph Integration"></a>Microsoft Graph Integration</h3><p>For organizations using Microsoft Graph, consider integrating searchable branch configuration with broader DevOps governance workflows.</p><h2 id="Key-Takeaways"><a href="#Key-Takeaways" class="headerlink" title="Key Takeaways"></a>Key Takeaways</h2><p>Working with Azure DevOps searchable branches requires understanding the underlying Policy Configuration API that Microsoft uses internally but doesn‚Äôt officially document for this purpose. The key insights from this solution are:</p><ul><li><strong>Hidden APIs Exist:</strong> Azure DevOps has powerful APIs that aren‚Äôt always documented for every use case</li><li><strong>UI Reverse Engineering:</strong> Network traffic analysis can reveal API patterns for automation</li><li><strong>Policy-Based Configuration:</strong> Many Azure DevOps features use the Policy Configuration API under the hood</li><li><strong>Batch Processing Considerations:</strong> Large-scale automation requires careful attention to rate limiting and error handling</li></ul><p>This solution provides a robust foundation for any Azure DevOps organization needing to manage searchable branches at scale. Whether you‚Äôre tracking technology adoption, performing security scanning, or implementing code quality initiatives, this approach enables the automation that makes these tasks feasible across large repository collections.</p><p>The undocumented nature of this API means it should be used with appropriate caution and monitoring, but for organizations with thousands of repositories, it‚Äôs currently the only viable approach for bulk searchable branch configuration.</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/rest/api/azure/devops/policy/configurations?view=azure-devops-rest-7.1">Azure DevOps REST API - Policy Configurations</a></li><li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/rest/api/azure/devops/git/repositories?view=azure-devops-rest-7.1">Azure DevOps REST API - Git Repositories</a></li><li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/68167072/cross-search-in-all-repositories-and-branches-in-azure-devops-repos">Stack Overflow: Cross Search in all repositories and branches in Azure DevOps Repos</a></li><li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops">Azure DevOps Code Search Documentation</a></li><li>Main image generated by <a target="_blank" rel="noopener" href="https://openai.com/blog/dall-e/">DALL-E</a></li></ul></div><div class="article-licensing box"><div class="licensing-title"><p>Automating Searchable Branch Configuration in Azure DevOps Repos via REST API</p><p><a href="https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/">https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Ricky Gummadi</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2025-08-15</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2025-12-26</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Azure-DevOps/">Azure DevOps</a><a class="link-muted mr-2" rel="tag" href="/tags/REST-API/">REST API</a><a class="link-muted mr-2" rel="tag" href="/tags/PowerShell/">PowerShell</a><a class="link-muted mr-2" rel="tag" href="/tags/Policy-Configuration/">Policy Configuration</a><a class="link-muted mr-2" rel="tag" href="/tags/Code-Search/">Code Search</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=62df1ab6e0f8f90019cf2f78&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="https://www.buymeacoffee.com/rickygummaT" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Engineering/Tooling/pimp-my-terminal-terminal-customization-with-oh-my-posh-a-cloud-native-terminal-setup/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Pimp My Terminal - Terminal Customization with Oh My Posh - A Cloud Native Terminal Setup</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/AI/Azure/Voice-Live-API/building-voice-agents-with-azure-communication-services-voice-live-api-and-azure-ai-agent-service/"><span class="level-item">Building Voice Agents with Azure Communication Services Voice Live API and Azure AI Agent Service</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config=function(){this.page.url="https://clouddev.blog/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/",this.page.identifier="Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/"};!function(){var e=document,a=e.createElement("script");a.src="//clouddev.disqus.com/embed.js",a.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(a)}()</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar_2.jpg" alt="Ricky Gummadi"></figure><p class="title is-size-4 is-block" style="line-height:inherit">Ricky Gummadi</p><p class="is-size-6 is-block">Cloud Solution Architect</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Auckland, New Zealand</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">18</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">67</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Ricky-G" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Ricky-G"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="StackOverflow" href="https://stackoverflow.com/users/441914/ricky-gummadi?tab=profile"><i class="fab fa-stack-overflow"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/rickygummadi/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#The-Challenge-Azure-DevOps-Code-Search-Limitations"><span class="level-left"><span class="level-item">1</span><span class="level-item">The Challenge: Azure DevOps Code Search Limitations</span></span></a></li><li><a class="level is-mobile" href="#Understanding-Azure-DevOps-Searchable-Branches"><span class="level-left"><span class="level-item">2</span><span class="level-item">Understanding Azure DevOps Searchable Branches</span></span></a></li><li><a class="level is-mobile" href="#The-Discovery-Hidden-Policy-Configuration-API"><span class="level-left"><span class="level-item">3</span><span class="level-item">The Discovery: Hidden Policy Configuration API</span></span></a></li><li><a class="level is-mobile" href="#The-Solution-Automated-Policy-Configuration"><span class="level-left"><span class="level-item">4</span><span class="level-item">The Solution: Automated Policy Configuration</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Step-1-Retrieve-Existing-Policy-Configuration"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">Step 1: Retrieve Existing Policy Configuration</span></span></a></li><li><a class="level is-mobile" href="#Step-2-Create-or-Update-Policy-Configuration"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">Step 2: Create or Update Policy Configuration</span></span></a></li><li><a class="level is-mobile" href="#Step-3-Apply-the-Configuration"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">Step 3: Apply the Configuration</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Complete-PowerShell-Implementation"><span class="level-left"><span class="level-item">5</span><span class="level-item">Complete PowerShell Implementation</span></span></a></li><li><a class="level is-mobile" href="#Important-Considerations-and-Limitations"><span class="level-left"><span class="level-item">6</span><span class="level-item">Important Considerations and Limitations</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#API-Version-and-Stability"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">API Version and Stability</span></span></a></li><li><a class="level is-mobile" href="#Repository-Limitations"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">Repository Limitations</span></span></a></li><li><a class="level is-mobile" href="#Performance-Considerations"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">Performance Considerations</span></span></a></li><li><a class="level is-mobile" href="#Error-Handling"><span class="level-left"><span class="level-item">6.4</span><span class="level-item">Error Handling</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Authentication-and-Security-Setup"><span class="level-left"><span class="level-item">7</span><span class="level-item">Authentication and Security Setup</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Personal-Access-Token-Configuration"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">Personal Access Token Configuration</span></span></a></li><li><a class="level is-mobile" href="#Security-Best-Practices"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">Security Best Practices</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Advanced-Usage-Scenarios"><span class="level-left"><span class="level-item">8</span><span class="level-item">Advanced Usage Scenarios</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Conditional-Branch-Configuration"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">Conditional Branch Configuration</span></span></a></li><li><a class="level is-mobile" href="#Integration-with-CI-x2F-CD-Pipelines"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">Integration with CI/CD Pipelines</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Troubleshooting-Common-Issues"><span class="level-left"><span class="level-item">9</span><span class="level-item">Troubleshooting Common Issues</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Policy-Configuration-Not-Found"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">Policy Configuration Not Found</span></span></a></li><li><a class="level is-mobile" href="#Invalid-Branch-References"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">Invalid Branch References</span></span></a></li><li><a class="level is-mobile" href="#Permission-Denied-Errors"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">Permission Denied Errors</span></span></a></li><li><a class="level is-mobile" href="#Indexing-Delays"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">Indexing Delays</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Real-World-Use-Cases"><span class="level-left"><span class="level-item">10</span><span class="level-item">Real-World Use Cases</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#JFrog-Artifactory-Adoption-Tracking"><span class="level-left"><span class="level-item">10.1</span><span class="level-item">JFrog Artifactory Adoption Tracking</span></span></a></li><li><a class="level is-mobile" href="#Security-Compliance-Scanning"><span class="level-left"><span class="level-item">10.2</span><span class="level-item">Security Compliance Scanning</span></span></a></li><li><a class="level is-mobile" href="#Code-Quality-Assessment"><span class="level-left"><span class="level-item">10.3</span><span class="level-item">Code Quality Assessment</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Future-Considerations-and-Alternatives"><span class="level-left"><span class="level-item">11</span><span class="level-item">Future Considerations and Alternatives</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Azure-DevOps-CLI-Integration"><span class="level-left"><span class="level-item">11.1</span><span class="level-item">Azure DevOps CLI Integration</span></span></a></li><li><a class="level is-mobile" href="#PowerShell-Module-Development"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">PowerShell Module Development</span></span></a></li><li><a class="level is-mobile" href="#Microsoft-Graph-Integration"><span class="level-left"><span class="level-item">11.3</span><span class="level-item">Microsoft Graph Integration</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Key-Takeaways"><span class="level-left"><span class="level-item">12</span><span class="level-item">Key Takeaways</span></span></a></li><li><a class="level is-mobile" href="#References"><span class="level-left"><span class="level-item">13</span><span class="level-item">References</span></span></a></li></ul></div></div><style>#toc .menu-list>li>a.is-active+.menu-list{display:block}#toc .menu-list>li>a+.menu-list{display:none}</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/Azure/"><span class="level-start"><span class="level-item">Azure</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/Azure/Networking/"><span class="level-start"><span class="level-item">Networking</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Azure/Speech/"><span class="level-start"><span class="level-item">Speech</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Azure/Voice-Live-API/"><span class="level-start"><span class="level-item">Voice Live API</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/AI/LLMs/"><span class="level-start"><span class="level-item">LLMs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/AKS/"><span class="level-start"><span class="level-item">AKS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/AKS/AGIC/"><span class="level-start"><span class="level-item">AGIC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Azure/"><span class="level-start"><span class="level-item">Azure</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/Azure/Container-Apps/"><span class="level-start"><span class="level-item">Container Apps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Azure/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Azure/DevOps/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Azure/DevTest-Labs/"><span class="level-start"><span class="level-item">DevTest Labs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Azure/Function-Apps/"><span class="level-start"><span class="level-item">Function Apps</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Azure/Function-Apps/NET/"><span class="level-start"><span class="level-item">.NET</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Azure/Function-Apps/Security/"><span class="level-start"><span class="level-item">Security</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Azure/Logic-Apps/"><span class="level-start"><span class="level-item">Logic Apps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Azure/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Azure/Storage/Azurite/"><span class="level-start"><span class="level-item">Azurite</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Azure-DevOps/"><span class="level-start"><span class="level-item">Azure DevOps</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Azure-DevOps/Azure-DevOps-API/"><span class="level-start"><span class="level-item">Azure DevOps API</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Blog/"><span class="level-start"><span class="level-item">Blog</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Engineering/"><span class="level-start"><span class="level-item">Engineering</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Engineering/Tooling/"><span class="level-start"><span class="level-item">Tooling</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/GitHub/"><span class="level-start"><span class="level-item">GitHub</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/GitHub/Actions/"><span class="level-start"><span class="level-item">Actions</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2025/11/"><span class="level-start"><span class="level-item">November 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/10/"><span class="level-start"><span class="level-item">October 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/09/"><span class="level-start"><span class="level-item">September 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/08/"><span class="level-start"><span class="level-item">August 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/07/"><span class="level-start"><span class="level-item">July 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/06/"><span class="level-start"><span class="level-item">June 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/05/"><span class="level-start"><span class="level-item">May 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/04/"><span class="level-start"><span class="level-item">April 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">February 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">June 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">October 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">September 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="https://api.follow.it/subscription-form/Njl3U2NMelcvYkNDZ2V0elNmQzB6NFpsdXRrT214U09hUTVxeURKSjNUNkFYd2JHWDZMYkcwclJuSWdTMDlLdmNNbEtSS0pZbmxtM2M2UDFjemErOWlSZkxoUjlnNExDd3BmZlIzUUFBd2tOREZZTURRTVNyc1Z4MHR5MWJ4OW18VmpXd085SlVEMWZZVHd5UlJCZXkyMTJqOENaRHlzMGVmUGkxek1iemNuWT0=/8" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div><p class="help">Please enter your email address to get updates when new articles are published</p></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/AI/LLMs/running-flux-1-omnicontrol-on-a-consumer-gpu-a-docker-implementation-tested-on-rtx-3060/"><img src="/img/running-llms-consumer-gpu.png" alt="Running FLUX.1 OmniControl on a Consumer GPU: A Docker Implementation tested on RTX 3060"></a></figure><div class="media-content"><p class="date"><time datetime="2025-11-10T11:00:00.000Z">2025-11-11</time></p><p class="title"><a href="/AI/LLMs/running-flux-1-omnicontrol-on-a-consumer-gpu-a-docker-implementation-tested-on-rtx-3060/">Running FLUX.1 OmniControl on a Consumer GPU: A Docker Implementation tested on RTX 3060</a></p><p class="categories"><a href="/categories/AI/">AI</a> / <a href="/categories/AI/LLMs/">LLMs</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/AI/Azure/Networking/microsoft-foundry-cross-region-with-private-endpoints-part-1/"><img src="/img/foundry-cross-region.png" alt="Microsoft Foundry Cross-Region with Private Endpoints (Part 1)"></a></figure><div class="media-content"><p class="date"><time datetime="2025-10-10T11:00:00.000Z">2025-10-11</time></p><p class="title"><a href="/AI/Azure/Networking/microsoft-foundry-cross-region-with-private-endpoints-part-1/">Microsoft Foundry Cross-Region with Private Endpoints (Part 1)</a></p><p class="categories"><a href="/categories/AI/">AI</a> / <a href="/categories/AI/Azure/">Azure</a> / <a href="/categories/AI/Azure/Networking/">Networking</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Engineering/Tooling/pimp-my-terminal-terminal-customization-with-oh-my-posh-a-cloud-native-terminal-setup/"><img src="/img/terminal-pimp.png" alt="Pimp My Terminal - Terminal Customization with Oh My Posh - A Cloud Native Terminal Setup"></a></figure><div class="media-content"><p class="date"><time datetime="2025-09-19T12:00:00.000Z">2025-09-20</time></p><p class="title"><a href="/Engineering/Tooling/pimp-my-terminal-terminal-customization-with-oh-my-posh-a-cloud-native-terminal-setup/">Pimp My Terminal - Terminal Customization with Oh My Posh - A Cloud Native Terminal Setup</a></p><p class="categories"><a href="/categories/Engineering/">Engineering</a> / <a href="/categories/Engineering/Tooling/">Tooling</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/"><img src="/img/automate-branch-ado-api.png" alt="Automating Searchable Branch Configuration in Azure DevOps Repos via REST API"></a></figure><div class="media-content"><p class="date"><time datetime="2025-08-14T12:00:00.000Z">2025-08-15</time></p><p class="title"><a href="/Azure-DevOps/Azure-DevOps-API/automating-searchable-branch-configuration-in-azure-devops-repos-via-rest-api/">Automating Searchable Branch Configuration in Azure DevOps Repos via REST API</a></p><p class="categories"><a href="/categories/Azure-DevOps/">Azure DevOps</a> / <a href="/categories/Azure-DevOps/Azure-DevOps-API/">Azure DevOps API</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/AI/Azure/Voice-Live-API/building-voice-agents-with-azure-communication-services-voice-live-api-and-azure-ai-agent-service/"><img src="/img/building-voice-agents.png" alt="Building Voice Agents with Azure Communication Services Voice Live API and Azure AI Agent Service"></a></figure><div class="media-content"><p class="date"><time datetime="2025-07-07T12:00:00.000Z">2025-07-08</time></p><p class="title"><a href="/AI/Azure/Voice-Live-API/building-voice-agents-with-azure-communication-services-voice-live-api-and-azure-ai-agent-service/">Building Voice Agents with Azure Communication Services Voice Live API and Azure AI Agent Service</a></p><p class="categories"><a href="/categories/AI/">AI</a> / <a href="/categories/AI/Azure/">Azure</a> / <a href="/categories/AI/Azure/Voice-Live-API/">Voice Live API</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1649927746910796" data-ad-slot="7373409515" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/NET/"><span class="tag">.NET</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AGIC/"><span class="tag">AGIC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI-Development/"><span class="tag">AI Development</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI-Voice-Agents/"><span class="tag">AI Voice Agents</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AKS/"><span class="tag">AKS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Application-Gateway/"><span class="tag">Application Gateway</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AutoGen/"><span class="tag">AutoGen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure/"><span class="tag">Azure</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-AI-Agent-Service/"><span class="tag">Azure AI Agent Service</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-App-Service/"><span class="tag">Azure App Service</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Blob-Storage/"><span class="tag">Azure Blob Storage</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-CLI/"><span class="tag">Azure CLI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Communication-Services/"><span class="tag">Azure Communication Services</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Container-Apps/"><span class="tag">Azure Container Apps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Dev-Test-Labs/"><span class="tag">Azure Dev Test Labs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-DevOps/"><span class="tag">Azure DevOps</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Logic-Apps/"><span class="tag">Azure Logic Apps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-Policy/"><span class="tag">Azure Policy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azurite/"><span class="tag">Azurite</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CI-CD/"><span class="tag">CI/CD</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Code-Search/"><span class="tag">Code Search</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Collaboration/"><span class="tag">Collaboration</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Contact-Center/"><span class="tag">Contact Center</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Containers/"><span class="tag">Containers</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dev-Containers/"><span class="tag">Dev Containers</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DevOps/"><span class="tag">DevOps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Developer-Environments/"><span class="tag">Developer Environments</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Development-Environment/"><span class="tag">Development Environment</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DotNet/"><span class="tag">DotNet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Function-Apps/"><span class="tag">Function Apps</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GZip/"><span class="tag">GZip</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IP-Restrictions/"><span class="tag">IP Restrictions</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ingress/"><span class="tag">Ingress</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LLMs/"><span class="tag">LLMs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Local-GPUs/"><span class="tag">Local GPUs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Logic-Apps/"><span class="tag">Logic Apps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Microsoft-Foundry/"><span class="tag">Microsoft Foundry</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Networking/"><span class="tag">Networking</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenAI/"><span class="tag">OpenAI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Personal/"><span class="tag">Personal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Policy-Configuration/"><span class="tag">Policy Configuration</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PowerShell/"><span class="tag">PowerShell</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Private-Endpoints/"><span class="tag">Private Endpoints</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Private-Link/"><span class="tag">Private Link</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/REST-API/"><span class="tag">REST API</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Realtime/"><span class="tag">Realtime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Remote-Development/"><span class="tag">Remote Development</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Security/"><span class="tag">Security</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Serverless/"><span class="tag">Serverless</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Single-Threaded-Apps/"><span class="tag">Single Threaded Apps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Speech-Services/"><span class="tag">Speech Services</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Storage/"><span class="tag">Storage</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TFS/"><span class="tag">TFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TFVC/"><span class="tag">TFVC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tar/"><span class="tag">Tar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VS-Code/"><span class="tag">VS Code</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Virtual-Machines/"><span class="tag">Virtual Machines</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Voice-Live-API/"><span class="tag">Voice Live API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WebRTC/"><span class="tag">WebRTC</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Exploring Azure, DevOps and Software Development" height="28"></a><p class="is-size-7"><span>&copy; 2026 &nbsp; | &nbsp; Ricky Gummadi &nbsp; | &nbsp;</span><span class="icon-animate"><i class="fa fa-heart"></i></span><br>All views expressed here are strictly and entirely my own.<br>~ ¬†Powered by<a href="https://hexo.io/" target="_blank" rel="noopener">¬† Hexo</a> &amp;<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">¬† Icarus</a> &amp;<a href="https://bulma.io/" target="_blank" rel="noopener">¬† Bulma</a> &amp;<a href="https://pages.github.com/" target="_blank" rel="noopener">¬† GitHub Pages</a><br></p><div><script src="https://unpkg.com/mermaid@11.8.0/dist/mermaid.min.js"></script><script>document.addEventListener("DOMContentLoaded",(function(){window.mermaid&&mermaid.initialize({startOnLoad:!0,theme:"default",themeVariables:{primaryColor:"#ffffff",primaryTextColor:"#333333",primaryBorderColor:"#4a90e2",lineColor:"#333333",secondaryColor:"#f8f9fa",tertiaryColor:"#ffffff",background:"#ffffff",mainBkg:"#ffffff",secondBkg:"#f8f9fa",tertiaryBkg:"#ffffff"},flowchart:{htmlLabels:!0,curve:"basis",padding:20,nodeSpacing:100,rankSpacing:80,useMaxWidth:!0,diagramPadding:20},maxWidth:"100%"})}))</script></div><p></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Github" href="https://github.com/Ricky-G"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="StackOverflow" href="https://stackoverflow.com/users/441914/ricky-gummadi?tab=profile"><i class="fab fa-stack-overflow"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/rickygummadi/"><i class="fab fa-linkedin"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"opt-in",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"This website uses cookies to improve your experience.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",policy:"Cookie Policy",href:"/cookies/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">√ó</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",(function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})}))</script><script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script><style>.geDiagramContainer{width:100%!important}</style></body></html>